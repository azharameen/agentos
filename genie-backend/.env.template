# Genie Backend - Environment Configuration Template
# Copy this file to .env and fill in your values

# ============================================================================
# Azure OpenAI Configuration
# ============================================================================
# Your Azure OpenAI endpoint URL
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# Azure OpenAI API key
AZURE_OPENAI_API_KEY=your-api-key-here

# Azure OpenAI API version
AZURE_OPENAI_API_VERSION=2024-10-21

# Chat model deployment names
# GPT-4 deployment
AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-4

# GPT-5 Pro deployment (optional, for advanced reasoning)
AZURE_OPENAI_GPT5_PRO_DEPLOYMENT=gpt-5-pro

# GPT-5 Codex deployment (optional, for code generation)
AZURE_OPENAI_GPT5_CODEX_DEPLOYMENT=gpt-5-codex

# Embedding model deployment
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-3-small-2-agentos

# ============================================================================
# LangSmith Observability (Optional but Recommended)
# ============================================================================
# Enable LangSmith tracing for debugging and monitoring
LANGCHAIN_TRACING_V2=true

# LangSmith API key (get from https://smith.langchain.com/)
LANGCHAIN_API_KEY=your-langsmith-api-key

# LangSmith project name (defaults to "default")
LANGCHAIN_PROJECT=genie-backend

# LangSmith endpoint (optional, defaults to https://api.smith.langchain.com)
# LANGCHAIN_ENDPOINT=https://api.smith.langchain.com

# ============================================================================
# Database Configuration
# ============================================================================
# Directory for SQLite databases (vectorstore, memory, persistence)
# Defaults to ./data if not set
DB_DIR=./data

# Directory for vectorstore database
VECTORSTORE_DB_DIR=./data

# Directory for LangGraph checkpoints database
LANGGRAPH_DB_DIR=./data

# Directory for agent memory database
MEMORY_DB_DIR=./data

# ============================================================================
# RAG Configuration
# ============================================================================
# Use SQLite for vectorstore instead of in-memory
# Set to "true" to enable persistent vectorstore
USE_SQLITE_VECTORSTORE=true

# Number of top results to return from similarity search
RAG_TOP_K=3

# Similarity threshold for document retrieval (0-1)
RAG_SIMILARITY_THRESHOLD=0.7

# Enable HNSW (Hierarchical Navigable Small World) index for ANN search
# Recommended for production with >10,000 documents
# Provides O(log n) query time vs O(n) naive cosine similarity
ENABLE_HNSW_INDEX=false

# ============================================================================
# Agent Configuration
# ============================================================================
# Default agent model (if not specified in request)
DEFAULT_AGENT_MODEL=gpt-4

# Default temperature for agent responses (0-1)
DEFAULT_TEMPERATURE=0.7

# Maximum iterations for agent reasoning loop
MAX_AGENT_ITERATIONS=10

# Tool execution timeout (milliseconds)
TOOL_TIMEOUT_MS=30000

# Tool retry attempts
TOOL_MAX_RETRIES=3

# Enable tool execution logging
TOOL_ENABLE_LOGGING=true

# ============================================================================
# Server Configuration
# ============================================================================
# Server port
PORT=3001

# Node environment (development, production, test)
NODE_ENV=development

# CORS allowed origins (comma-separated, use * for all origins in dev)
# Production example: https://app.example.com,https://admin.example.com
CORS_ORIGINS=*

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable verbose logging for debugging
VERBOSE_LOGGING=false

# ============================================================================
# Security Configuration (if implementing authentication)
# ============================================================================
# JWT secret for authentication (if using)
# JWT_SECRET=your-secret-key

# Session secret (if using sessions)
# SESSION_SECRET=your-session-secret

# ============================================================================
# Feature Flags
# ============================================================================
# Enable/disable specific features
ENABLE_RAG=true
ENABLE_MEMORY_PERSISTENCE=true
ENABLE_LANGGRAPH_WORKFLOWS=true
ENABLE_STREAMING=true

# ============================================================================
# Performance Configuration
# ============================================================================
# Memory cleanup interval (milliseconds)
MEMORY_CLEANUP_INTERVAL=3600000

# Checkpoint cleanup interval (milliseconds)
CHECKPOINT_CLEANUP_INTERVAL=86400000

# Maximum checkpoint age before cleanup (days)
MAX_CHECKPOINT_AGE_DAYS=30
